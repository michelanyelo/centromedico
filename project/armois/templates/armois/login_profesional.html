{% extends 'armois/layout.html' %}
{% load static %}
{% block title %}
  <title>Lista de Reservas</title>
{% endblock %}

{% block content %}
  <div class="container">
    <div class="col-md-6 offset-md-3 col-12">
      <!-- @ Start login box wrapper -->
      <div class="blmd-wrapp">
        <div class="blmd-color-conatiner ripple-effect-All"></div>
        <div class="blmd-header-wrapp">
          <div class="blmd-switches">
            <button class="btn btn-circle btn-lg btn-blmd ripple-effect btn-success blmd-switch-button">
              <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                <path fill="#fff" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
              </svg>
            </button>
          </div>
        </div>
        <div class="blmd-continer">
          <!-- @ Login form container -->
          <form id="login-form" method="POST" action="{% url 'login' %}" onsubmit="mostrarDatos(event)">
            {% csrf_token %}
            <h1 class="text-center">Inicia sesión</h1>
            {% if message %}
              <div class="alert alert-danger" role="alert">{{ message }}</div>
            {% endif %}
            <div class="mb-3">
              <div class="form-floating">
                <input type="text" name="username" autocomplete="off" id="usernameLogin" class="form-control" placeholder="Usuario" />
                <label for="usernameLogin">Usuario</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="form-floating">
                <input type="password" name="password" autocomplete="off" id="passwordLogin" class="form-control" placeholder="Contraseña" />
                <label for="passwordLogin">Contraseña</label>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-success btn-lg w-100">Iniciar Sesión</button>
            </div>
            <br />
          </form>

          <!-- @ Register form container -->
          <form action="post" class="clearfix form-hidden" id="Register-form">
            {% csrf_token %}
            <h1 class="text-center">Registrarse</h1>
            <div class="mb-3">
              <div class="form-floating">
                <input type="text" name="username" autocomplete="off" id="usernameReg" class="form-control" placeholder="Usuario" />
                <label for="usernameReg">Usuario</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="form-floating">
                <input type="password" name="password" autocomplete="off" id="passwordReg" class="form-control" placeholder="Contraseña" />
                <label for="passwordReg">Contraseña</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="form-floating">
                <input type="password" name="rePassword" autocomplete="off" id="rePassword" class="form-control" placeholder="Repite tu contraseña" />
                <label for="rePassword">Repite tu Contraseña</label>
              </div>
            </div>
            <div class="text-center">
              <button type="button" class="btn btn-warning btn-lg w-100">Registrarse</button>
            </div>
            <br />
          </form>
        </div>
      </div>
    </div>
  </div>
  <script>
    function mostrarDatos(event) {
      event.preventDefault() // Evita que el formulario se envíe inmediatamente
    
      var username = document.getElementById('usernameLogin').value
      var password = document.getElementById('passwordLogin').value
    
      // Validaciones básicas
      if (!username || !password) {
        alert('Por favor, complete todos los campos.')
        return
      }
      // Enviar el formulario después de mostrar el alert
      event.target.submit()
    }
  </script>
  <script src="{% static 'armois/js/login.js' %}"></script>
{% endblock %}
